<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
	<head>
		<title>Game</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<style type="text/css" media="screen">
		html, body { height:100%; background-color: #cccccc;}
		body { margin:0; padding:0; overflow:hidden; }
		#flashContent { width:100%; height:100%; }
		</style> 
		<script type="text/javascript" src="./web3.js">
			
		</script>
		<script>
			
			window.addEventListener('load',async()=>{
			//	console.log(web3.currentProvider)
				if(window.ethereum){
					console.log('window.ethereum')
				window.web3 = new Web3(ethereum)
				try{
					await ethereum.enable()
					//console.log(await window.web3.getAccounts())
					//console.log(await web3.eth.accounts[0])
					console.log(await window.web3.eth.getAccounts())
				}catch(err){
					console.log(err)
				}
			}else if(window.web3){
				//console.log(window.Web3)
				window.web3 = new Web3(Web3.currentProvider)
				//console.log(window.web3)
				//console.log(await window.web3.eth.getAccounts())
			}
			})

			
			
			
			
			/* async function setProvider() {
  // TODO: get injected Metamask Object and create Web3 instance
  let metamaskWeb3
  if (window.ethereum) {
    	metamaskWeb3 = new Web3(ethereum);
    try {
      // Request account access if needed
      await ethereum.enable();
    } catch (error) {
      // User denied account access...
    }
  }
  else if (window.web3) {
    metamaskWeb3 = new Web3(web3.currentProvider);
  }
  account = await metamaskWeb3.eth.getAccounts()
  console.log(account)

}
//setProvider()
			var address;
			//test()
			console.log(window.Web3)
			
    		let metamaskWeb3 = new Web3(Web3.currentProvider);
			console.log(metamaskWeb3)
			console.log(await metamaskWeb3.eth.getAccounts())
			//let web3 = window.Web3(window.Web3.currentProvider)
			//console.log(web3)
			
			async function test(){
				console.log(await metamaskWeb3.eth.getAccounts())
				//await window.ethereum.enable()

			}test() */
			
	    function displayAlert(message)
	    {
	      window.alert(message);
	      console.log(5 + 6);
	    }

	    function displayCurrentTime()
	    {
	    var date = new Date();
	    return date.toLocaleTimeString();
	    }
	  </script>
	</head>
	<body>
		<div id="flashContent">
			<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="1600" height="800" id="Game" align="middle">
				<param name="movie" value="Game.swf" />
				<param name="quality" value="high" />
				<param name="bgcolor" value="#cccccc" />
				<param name="play" value="true" />
				<param name="loop" value="true" />
				<param name="wmode" value="window" />
				<param name="scale" value="showall" />
				<param name="menu" value="true" />
				<param name="devicefont" value="false" />
				<param name="salign" value="" />
				<param name="allowScriptAccess" value="sameDomain" />
				<!--[if !IE]>-->
				<object type="application/x-shockwave-flash" data="Game.swf" width="1600" height="800">
					<param name="movie" value="Game.swf" />
					<param name="quality" value="high" />
					<param name="bgcolor" value="#cccccc" />
					<param name="play" value="true" />
					<param name="loop" value="true" />
					<param name="wmode" value="window" />
					<param name="scale" value="showall" />
					<param name="menu" value="true" />
					<param name="devicefont" value="false" />
					<param name="salign" value="" />
					<param name="allowScriptAccess" value="sameDomain" />
				<!--<![endif]-->
					<a href="http://www.adobe.com/go/getflash">
						<img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />
					</a>
				<!--[if !IE]>-->
				</object>
				<!--<![endif]-->
			</object>
		</div>
	</body>
</html>
